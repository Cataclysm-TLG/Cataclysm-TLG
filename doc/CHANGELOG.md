# Changes in The Last Generation

Cataclysm: The Last Generation bases off Cataclysm: Dark Days Ahead. As such, the changes are compared to it.

## Major changes

> [!CAUTION]
> There is no intended compatibility with Cataclysm: Dark Days Ahead saves and mods.
> While simple mods *may* continue to work, if they break, you get to keep both pieces.
> There is absolutely no support for trying to make DDA saves work.

- Removal of imgui
  - imgui is, as of writing, still very unstable in Cataclysm: Dark Days Ahead and causes a major amount of breakage. This is why we got rid of it here.
- Less mods
  - Due to incompatibility, most major mods have been removed. This includes Magiclysm, Mind over Matter and Xedra Evolved. Innawood and Sky Island are staying though.
  - `no_npc_needs` and `personal_portal_storms` have been removed. The former is default now, the latter got removed together with portal storms.
  - It is safe to edit `mods.json` in your save to remove the two mods above if you played a pre-1.0 version of Cataclysm: The Last Generation.
- Improved monster crit resistance. Critical hits in Cataclysm became essentially guaranteed above a relatively modest skill level, ballooning player damage far higher than was ever intended. This was partly because monsters were only able to resist critical hits using their effective dodge score. As the strongest monsters in the game are mostly 2000 pound tanks, and even beyond them, few enemies have more than 3 or 4 dodge, this made enemies far too easy to kill. Now, monsters check the higher of their dodge or melee. Dodge is generally more effective at resisting critical hits, but can be debuffed or disabled by things like snares or the downed effect. Melee doesn't have this problem, but point-for-point confers less resistance.
- Made shooting not entirely deterministic. Ranged attacks in DDA function via a system called dispersion. An enormous number of factors add to or reduce the final dispersion of a ranged attack, but these factors are never random. This means that an enemy standing N tiles away from a character who aims at them for P turns will always take the exact same damage, assuming the same gun, ammo, character stats, etc. Because enemies are constantly moving around and factors like recoil and light are always changing, this can make it hard to notice, however it was preventing some guns from dealing very high crit damage even though they should definitely be able to do so, and it was giving monsters what looked like unerring accuracy - since they lacked so many of the mechanics being checked for characters, they would often hit the same body part over and over for the same or very similar damamge. The new system functions as the old, but adds a random +/- to the final total which makes ranged combat much less predictable. This random factor is weighted toward the negative, but becomes even at around 18 perception and becomes slightly weighted for positive (at which point it is capped) at 20 effective perception. A reduced sight or manipulation score will count against your perception. This does a much better job of simulating the chaos of ranged combat and in practice means that ferals will miss sometimes and turrets will often hit you once in a burst instead of lasering every single shot directly into your solar plexus. Is also makes perception actually matter.
- Stamina now affects block chance. Previously, a character could block 100% of the time at 5 melee. This is still the case (for now) at 100% stamina, but as stamina falls, so too does block chance, though at 10 melee, a character will always attempt to block unless winded.
- Exodii have been removed. Personally, I appreciated the writing of DDA's Exodii, but found them to be a bad fit for the game as they take the focus off of procedural world exploration and shift it to repeated visits to the same static NPC. They also run counter to our theme, which is more backyard sci fi and conspiracy and less alien invasion.
- CBMs have been returned to labs, hospitals, and a few other locations. This is bleeding-edge technology, a few steps ahead of modern-day systems like Neuralink. The general public has had little or no access to bionics, but promises of next-generation tech have been closer to reality ever year.
- Lab adjustments: Old-style labs have made a return, and lab towers are now much more common. Subway labs are now much less common, and are no longer packed with hundreds of zombies. This should go a long way toward improving slowdown during gameplay up on the surface.
- Portal storms have been removed. While an interesting idea, these were designed to throw a lot of threats at you that are simply best avoided. The fact that every storm included every type of threat meant they all got old fast, and they too frequently interrupted more interesting gameplay. There are plans to add supernatural weather effects which are more varied and less intrusive to stand in for the reality-bending nature of the Cataclysm.
- Robots are once again a part of the lore, and may be found still mindlessly serving their pre-Cataclysm roles, be that enforcing the law, surveiling the public, or gunning down anything that moves.
- Apocalyptic regional settings. The Cataclysm was a slow process that took decades to build up before exploding into a zombie apocalypse. In that time, supply lines eroded, the climate shifted, crops failed, and plant life began to die while people and animals slowly began mutating. The natural world is no longer pristine, and the weather is much harsher.
- Less free food! Food was running out a year before the dead began to walk. Panic-buying, hoarding, and infighting made it difficult for governments to get supplies to their people. Homes are no longer totally stocked with all the food you could ever want. There are no longer fresh-baked cakes sitting out in areas that have been overrun by the undead for days or weeks.
- Foraging is much more difficult. Fruit-bearing plants are harder to come by, and finding ones that aren't picked over or totally bare is hard work that requires a bit of survival and perception.
- Skill rust has been removed. This was never a good mechanic. DDA's attempts to revive it were met with widespread resistance, and it was then nerfed to become a "bonus" that hardly counted for anything at all. Cataclysm games do not last long enough to model any sort of realistic skill rust, and constantly losing skills is not a fun experience, so the whole system is gone.
- Created a system to handle liquid attacks, which can now be properly dodged and behave logically according to the breathability and coverage of a character's armor. This was done to improve the behavior of bile and acid (ubiquitous threats in the Cataclysm), but can theoretically work for a wide variety of fluids.
- Acid overhaul
  - Acid does damage over time, can temporarily blind you if it gets in your eyes, affects your lifestyle score, and most importantly, has a low chance to damage your equipment. Protecting yourself and your things from acid now relies on wearing equipment which has low breathability and/or high acid resistance, especially on your outermost layers. Luckily, acid is now properly dodgeable in all cases and most acid-spitting enemies have limited range.
  - Acid puddles also use this system, splashing onto your feet. Characters who are prone or otherwise lower to the ground may find that puddles are more dangerous. In either case, the puddles last much less time.
- Bile overhaul
  - Bile has a low chance to make worn equipment filthy when it strikes you. If it contacts your skin, it will cause nausea and make it easier for scent-tracking monsters to find you, and it can cause temporary blindness or even conjunctivitis if it gets in your eyes. Wearing non-breathable or disposable clothing on your outer layers can protect you and your gear from getting dirty, but bile is always dodgeable.
  - Bile on the floor can cause you to slip and fall. The chance is very low, but is exacerbated by high foot encumbrance, impairments to your balance, low dexterity, smooth, flat terrain (such as sidewalks or wooden floors) or running.
- Added grappling. Enemies can be grabbed with the (G) key and thrown with the (t) key. Grabbed enemies are unable to dodge, but beware - grappling requires two free hands and penalizes your own ability to dodge, and grappling burns a lot of stamina. Grappling relies on strength, dexterity, melee, and unarmed skill, while throwing creatures relies on strength, relative size category, unarmed, and throwing skills. Thrown creatures take (and deal!) damage proportional to their size and the distance they are launched. Shoving someone a tile or two might not hurt them at all, while throwing a zombie ten tiles is a superhuman feat that might kill them outright or smash them through a wall!
  - NPCs currently do not grapple. Monsters use the same systems they always have.
  - Grappling will be integrated with the martial arts system as soon as Worm can be bothered to write some grappling techniques.
- Armor has had a major overhaul, mostly to combat power creep, but also to modernize and in some cases simplify the system. DDA made several cool additions to the armor system over the years, but these introduced power creep that eventually had characters walking around with 40+ armor on every body part. To compete with this, monsters started getting abilities such as impale or obnoxious amounts of armor penetration, meaning that much of the time, all that cool armor you had wasn't even doing anything!
  - Many armor pieces now occupy multiple layers, encumbrance values are generally higher across the board, and coverage has been reduced.
  - Armor values have been adjusted for some materials.
  - Armor material thickness has been audited with more consistent guidelines. See ARMOR_BALANCE_AND_DESIGN.md
  - Extraneous armor pieces have been removed. There is a fine line between simulating as much as possible and creating crafting menu lists that are impossible to navigate or understand.
  - Made several improvements and bugfixes to the underlying system, many concerning how fire and acid are handled.
  - Made outgoing bash damage far less likely to damage the attacker's clothing when using unarmed combat. While it makes a degree of sense that these items would be damaged in combat, kicking a couple of people is not going to atomize your blue jeans.

## Minor changes

- Adjusted HP and stomach size values for small and tiny characters. They should no longer have trouble physically fitting enough food in themselves to survive, but are less durable.
- Moved the bionic professions mod to mainline, as bionics are technology which was starting to become available just before the Cataclysm.
- Made pounce and leap mutations actually functional, dramatically increasing the power of feline, batrachian, bird, and rabbit mutations.
- Steel variants have been removed. This system created a massive amount of work on the dev/contributor end for very marginal benefit, introduced a ton of errors as item definitions had to be copied five or more times for all material definitions, and contributed significantly to power creep while giving players the expectation that they should always only be using the best stuff, making at least two of the steel types totally pointless. Variants are planned for eventual re-introduction with a smarter system that can change the base stats and materials of an item on the fly. 
- Survivor gear has been reimagined and re-implemented as (mostly) soft armor which aims to use commonly-available materials to protect from zombie attacks, including bites and acid. It lacks the ballistic protection of military armor and is not as protective against melee as medieval armor, but it strikes a balance that should make it an attractive option for any survivor.
- Audited the spawn rate of many wild animals and other less-consequential creatures, which should cut down on lag without harming food supplies.
